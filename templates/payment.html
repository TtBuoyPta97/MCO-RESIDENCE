<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Payment - MCO Residence</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styleii.css') }}">
</head>
<body>
    <header>
        <img src="{{ url_for('static', filename='images/mco landscape.jpeg') }}" alt="MCO Residence Logo" class="logo">
        <h1>Payment</h1>
    </header>

    <div class="payment-container">
        <h2>Booking Summary</h2>
        <p><strong>Name:</strong> {{ booking.name }}</p>
        <p><strong>Booking Option:</strong> {{ booking.booking_option_display }}</p>
        <p><strong>Check-in:</strong> {{ booking.checkin_date }} at {{ booking.checkin_time }}</p>
        {% if booking.booking_option == 'night' %}
        <p><strong>Check-out:</strong> Next Day Before 11:00 AM</p>
        {% else %}
        <p><strong>Check-out:</strong> {{ booking.checkout_time }}</p>
        {% endif %}
        <p><strong>Total Amount:</strong> R{{ booking.total_amount }}</p>

        <h2>Select Payment Method</h2>

        <form action="{{ url_for('payment') }}" method="POST" enctype="multipart/form-data">
            <label for="payment_method">Choose Payment Method:</label><br><br>
            <select id="payment_method" name="payment_method" required onchange="showPaymentOption(this.value)">
                <option value="">--Select--</option>
                <option value="online">Pay Online (PayFast)</option>
                <option value="manual">Manual Payment (Bank Transfer)</option>
            </select>

            <div id="manual_payment_info" style="display:none; margin-top:20px;">
                <h3>Banking Details</h3>
                <p><strong>Bank Name:</strong> Standard Bank</p>
                <p><strong>Account Name:</strong> Amangcikwa Holdings PTY Ltd</p>
                <p><strong>Account Number:</strong> 10233031039</p>
                <p>Please upload Proof of Payment below:</p>
                <input type="file" name="proof_file" accept=".jpg,.jpeg,.png,.pdf" required>
            </div>

            <div style="margin-top:20px;">
                <button type="submit">Proceed</button>
            </div>
        </form>
    </div>

    <footer>
        <p>&copy; 2025 MCO Residence. All rights reserved.</p>
    </footer>

    <script>
        function showPaymentOption(value) {
            if (value === 'manual') {
                document.getElementById('manual_payment_info').style.display = 'block';
            } else {
                document.getElementById('manual_payment_info').style.display = 'none';
            }
        }
    </script>
</body>
</html>
